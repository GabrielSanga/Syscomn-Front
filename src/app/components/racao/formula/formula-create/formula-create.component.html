<div class="container mat-elevation-z8">
    <!--CADASTRO-->
    <form class="form">
        <h1>Cadastrar Fórmula</h1>
        <div class="row">
            <div class="col-md-4">
                <mat-form-field class="fullWidth" appearance="outline">
                    <mat-label>Ração</mat-label>
                    <mat-select [(ngModel)]="formula.idRacao" name="idRacao" required disabled="true">
                        <mat-option *ngFor="let racao of racoes" value="{{ racao.idRacao }}">{{racao.descricao}}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-4">
                <mat-form-field class="fullWidth" appearance="outline">
                    <mat-label>Máteria Prima</mat-label>
                    <mat-select [(ngModel)]="formula.idMateriaPrima" name="idMateriaPrima" required>
                        <mat-option *ngFor="let materiaPrima of materiasPrimas" value="{{ materiaPrima.idMateriaPrima }}">{{ materiaPrima.descricao }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-2">
                <mat-form-field class="fullWidth" appearance="legacy">
                    <mat-label>Quantidade</mat-label>
                    <input type="number" [(ngModel)]="formula.quantidade" name="quantidade" matInput> 
                </mat-form-field>
            </div> 

            <button (click)="create()" style="width: 100px; height: 35px;" class=" mat-elevation-z4 col-md-2" mat-flat-button color="primary">Adicionar</button>
        </div>
    </form>

    <!--LISTAGEM-->
    <div class="container" style="padding: 0;">         
        <div class="mat-elevation-z2" >
            <table mat-table [dataSource]="dataSource">  
                <ng-container matColumnDef="idFormulaRacao">
                    <th mat-header-cell *matHeaderCellDef> ID </th>
                    <td mat-cell *matCellDef="let element"> {{element.idFormulaRacao}} </td>
                </ng-container>
                        
                <ng-container matColumnDef="descricaoMateriaPrima">
                    <th mat-header-cell *matHeaderCellDef> Matéria Prima </th>
                    <td mat-cell *matCellDef="let element"> {{element.materiaPrima.descricao}} </td>
                </ng-container>

                <ng-container matColumnDef="quantidade">
                    <th mat-header-cell *matHeaderCellDef> Quantidade </th>
                    <td mat-cell *matCellDef="let element"> {{element.quantidade}} </td>
                </ng-container>
                    
                <ng-container matColumnDef="acoes">
                    <th mat-header-cell *matHeaderCellDef style="text-align: center;"> Deletar </th>
                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                        <a title="Deletar Registro" (click)="delete(element.idFormulaRacao)" >
                            <i class="material-icons delete">delete</i>
                        </a>
                    </td>
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        
            <mat-paginator [pageSizeOptions]="[4, 2, 10, 20, 50, 100]" showFirstLastButtons></mat-paginator>
        </div>
     </div>
     
     <button routerLink="../../../../" class="fullWidth mat-elevation-z4" mat-stroked-button color="warn">Voltar</button>
</div>